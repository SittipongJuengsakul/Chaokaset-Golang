{{set . "title" "เพิ่มแผนการเพาะปลูก"}}
{{template "Templates/header.html" .}}
{{template "Templates/preloader.html" .}}
<div class="chaokaset-container-verticle" id="chaokaset-loader" style="display: none;">
  <div class="col-sm-12 varticle-header-box">
    <h1>เพิ่มแผนการเพาะปลูก</h1>
  </div>
  <div class="col-sm-12 container-box" ng-app="ChaokasetApp" ng-controller="NewShowPlan">
    <div class="col-sm-12 container-box-content" >
      <div class="col-sm-12 padding-left-no padding-right-no name-header" style="padding-left: 0px;"><h2 class="color-green">ข้อมูลแผนการเพาะปลูก</h2></div>
      <form method="post" action="{{url "Plan.PostAddCropPlan"}}">
        <div class="info-plant-show">
          <div class="form-grop col-md-12" style="padding: 0px;">
            {{with $field := field "plan.PlanName" .}}
            <div class="form-group col-md-12 padding-left-no padding-right-no">
              <label>ชื่อแผนการเพาะปลูก</label>
              <input type="text" class="form-control" placeholder="กรอกชื่อแผนการเพาะปลูก" name="{{$field.Name}}" value="{{$field.Flash}}">
              <span class="error">{{$field.Error}}</span>
            </div>
            {{end}}
          </div>
          {{with $field := field "plan.Plant" .}}
          <div class="form-grop col-md-12" style="padding: 0px;">
            <div class="form-group col-md-4 padding-left-no">
              <label>ชนิดพืช</label>
              <select class="form-control" name="{{$field.Name}}">
                 <option value="ข้าว">ข้าว</option>
               </select>
            </div>
            {{end}}
            {{with $field := field "plan.Seed" .}}
            <div class="form-group col-md-4">
              <label>พันธุ์พืช</label>
              <select class="form-control" name="{{$field.Name}}">
                 <option value="กข. 47">กข. 47</option>
               </select>
            </div>
            {{end}}
            {{with $field := field "plan.Duration" .}}
            <div class="form-group col-md-4 padding-right-no">
              <label>ระยะเวลาเพาะปลูก (วัน)</label>
              <input type="text" class="form-control" placeholder="กรอกระยะเวลาเพาะปลูก (วัน)" name="{{$field.Name}}" value="{{$field.Flash}}">
              <span class="error">{{$field.Error}}</span>
            </div>
          </div>
          {{end}}
          <div class="form-grop col-md-12" style="padding: 0px;">
            {{with $field := field "plan.Description" .}}
            <div class="form-group col-md-12 padding-left-no padding-right-no">
              <label>รายละเอียด</label>
              <textarea type="text" class="form-control" placeholder="กรอกชื่อแผนการเพาะปลูก" name="{{$field.Name}}" style="font-size: 20px;" value="{{$field.Flash}}"></textarea>
              <span class="error">{{$field.Error}}</span>
            </div>
            {{end}}
          </div>
          <div class="form-grop col-md-12" style="padding: 0px;">
            {{with $field := field "plan.TypePlanOption" .}}
            <div class="form-group col-md-12 padding-left-no padding-right-no">
              <label>ประเภทของแผนการเพาะปลูก</label>
              <div class="radio" style="margin: 0;">
                <label style="line-height: 45px;"><input type="radio" value="0" name="plan.TypePlan" ng-click="ShowNewPlanOption()" checked>แผนการเพาะปลูกใหม่</label>
                <label style="margin-left: 15px;line-height: 45px;"><input type="radio" value="1" name="plan.TypePlan" ng-click="ShowPlanOption()">แผนการเพาะปลูกต่อเนื่อง</label>
              </div>
            </div>
            {{end}}
          </div>
          <div class="col-sm-12 container-box-content" style="margin-top: 0px;margin-bottom: 10px;">
            <div class="col-sm-12 padding-left-no padding-right-no name-header" style="padding-left: 0px;"><h2 class="color-green">ข้อมูลแผนการเพาะปลูกใหม่</h2></div>
            <div class="form-grop col-md-12" style="padding: 0px;"  ng-show="PlanOption">
              {{with $field := field "plan.OldPlanId" .}}
              <div class="form-group col-md-6 padding-left-no">
                <label>แผนการเพาะปลูกเดิม</label>
                <select class="form-control" name="{{$field.Name}}">
                   <option value="34aabsc">ข้าว กข.47 (กรมการข้าว)</option>
                 </select>
              </div>
              {{end}}
            </div>
            <div class="form-grop col-md-12" style="padding: 0px;">
              {{with $field := field "plan.Owner" .}}
              <div class="form-group col-md-6 padding-left-no">
                <label>ชื่อเจ้าของแผนการเพาะปลูก</label>
                <input type="text" class="form-control" placeholder="กรอกชื่อเจ้าของแผนการเพาะปลูก" name="{{$field.Name}}" value="{{$field.Flash}}">
                <span class="error">{{$field.Error}}</span>
              </div>
              {{end}}
              {{with $field := field "plan.OwnerCompany" .}}
              <div class="form-group col-md-6 padding-right-no">
                <label>องค์กรเจ้าของแผนการเพาะปลูก</label>
                <input type="text" class="form-control" placeholder="กรอกชื่อองค์กรเจ้าของแผนการเพาะปลูก" name="{{$field.Name}}" value="{{$field.Flash}}">
                <span class="error">{{$field.Error}}</span>
              </div>
              {{end}}
            </div>
          </div>
          <div class="col-sm-12 padding-left-no padding-right-no name-header" style="padding-left: 0px;"><h2 class="color-green">ปฎิทินการเพาะปลูก</h2></div>
          <table class="table col-md-12">
            <thead class="box-thead-show">
              <tr>
                <th width="15%">เริ่มวันที่</th>
                <th width="15%">สิ้นสุดวันที่</th>
                <th width="35%">รายละเอียด</th>
                <th ng-click="remove()">ตัวเลือก</th>
              </tr>
            </thead>
            <tbody class="box-tbody-show">
              <tr>
                <td><input type="text" class="form-control" placeholder="เริ่มวันที่ (วัน)" name="" value=""></td>
                <td><input type="text" class="form-control" placeholder="สิ้นสุดวันที่ (วัน)" name="" value=""></td>
                <td><input type="text" class="form-control" placeholder="รายละเอียด" name="" value=""></td>
                <td><button type="submit" class="btn btn-success">เพิ่มข้อมูล</button></td>
              </tr>
              <tr ng-repeat="PlanActivity in PlanActivitys">
                <td ng-bind="PlanActivity.startdate">เริ่มวันที่</td>
                <td ng-bind="PlanActivity.enddate">สิ้นสุดวันที่</td>
                <td ng-bind="PlanActivity.details">รายละเอียด</td>
                <td>คำแนะนำ</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div style="width: 100%;text-align: center;">
          <button type="submit" class="btn btn-success">ตกลง</button>
          <button type="button" class="btn btn-danger">ยกเลิก</button>
        </div>
      </form>
    </div>
  </div>
</div>
<script type="text/javascript">
  var app = angular.module('ChaokasetApp', []);
  app.controller('NewShowPlan', function($scope) {
      $scope.NewPlanOption = true;
      $scope.PlanOption = false;
      $scope.ShowNewPlanOption = function() {
          $scope.NewPlanOption = true
          $scope.PlanOption = false;
      }
      $scope.ShowPlanOption = function() {
          $scope.PlanOption = true
          $scope.NewPlanOption = false;
      }

      $scope.PlanActivitys = [
        {
            'startdate':'0',
            'enddate':'20',
            'details':'เตรียมดิน'
        },
        {
            'startdate':'0',
            'enddate':'50',
            'details':'ไส่ปุ๋ย'
        },
        {
            'startdate':'10',
            'enddate':'20',
            'details':'ตากดิน'
        }];
        $scope.remove = function(){
            var newDataList=[];
            angular.forEach($scope.personalDetails, function(selected){
                if(!selected.selected){
                    newDataList.push(selected);
                }
            });
            $scope.personalDetails = newDataList;
        };
  });
</script>
{{template "Templates/footer.html" .}}
